<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Invoice - Hamza Kite Shop</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="invoice">
    <h1>INVOICE</h1>

    <div class="header">
        <p>Invoice To: <input type="text" id="customer"></p>
        <p>Date: <span id="date"></span></p>
        <p>Invoice No: <input type="text"></p>
    </div>

    <table>
        <thead>
            <tr>
                <th>Description</th>
                <th>Unit Pack</th>
                <th>Rate (PKR)</th>
                <th>Quantity</th>
                <th>Total (PKR)</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>1 Tawa Gudda</td>
                <td>-</td>
                <td><input type="number" id="r1" oninput="calc()"></td>
                <td><input type="number" id="q1" oninput="calc()"></td>
                <td id="t1">0</td>
            </tr>

            <tr>
                <td>1.5 Tawa Gudda</td>
                <td>-</td>
                <td><input type="number" id="r2" oninput="calc()"></td>
                <td><input type="number" id="q2" oninput="calc()"></td>
                <td id="t2">0</td>
            </tr>

            <tr>
                <td>Pina</td>
                <td><input type="text" id="unitPina" class="unit-pack" value="4 Units"></td>
                <td><input type="number" id="r3" value="9500" oninput="calc()"></td>
                <td><input type="number" id="q3" value="1" oninput="calc()"></td>
                <td id="t3">9500</td>
            </tr>
        </tbody>
    </table>

    <h2>Total Amount Payable: PKR <span id="grand">9500</span></h2>

    <div class="bank">
        <p><strong>Seller:</strong> Hamza Kite Shop</p>
        <p><strong>Account Title:</strong> Hamza Jabran Minhas</p>
        <p><strong>Bank:</strong> Bank Al Habib</p>
        <p><strong>IBAN:</strong> PK93 BAHL 5522 0044 0046 0801 6</p>
    </div>

    <div class="signature">
        Authorized Signature:<br>
        Hamza Kite Shop
    </div>

    <div class="buttons">
        <button onclick="window.print()">Print</button>
        <button onclick="saveInvoice()">Save (Notepad)</button>
    </div>
</div>

<script>
document.getElementById("date").innerText = new Date().toLocaleDateString();

function calc() {
    const t1 = (r1.value || 0) * (q1.value || 0);
    const t2 = (r2.value || 0) * (q2.value || 0);
    const t3 = (r3.value || 0) * (q3.value || 0);

    document.getElementById("t1").innerText = t1;
    document.getElementById("t2").innerText = t2;
    document.getElementById("t3").innerText = t3;

    document.getElementById("grand").innerText = t1 + t2 + t3;
}

function saveInvoice() {
    const text =
`INVOICE - Hamza Kite Shop
-------------------------
Invoice To: ${customer.value || "N/A"}
Date: ${new Date().toLocaleString()}

1 Tawa Gudda
Rate: ${r1.value || 0}
Qty: ${q1.value || 0}
Total: ${t1.innerText}

1.5 Tawa Gudda
Rate: ${r2.value || 0}
Qty: ${q2.value || 0}
Total: ${t2.innerText}

Pina
Unit Pack: ${unitPina.value}
Rate: ${r3.value}
Qty: ${q3.value}
Total: ${t3.innerText}

-------------------------
Total Payable: PKR ${grand.innerText}

Seller: Hamza Kite Shop
`;

    const blob = new Blob([text], { type: "text/plain" });
    const link = document.createElement("a");
    link.href = URL.createObjectURL(blob);
    link.download = "invoice.txt";
    link.click();
}

calc();
</script>

</body>
</html>
